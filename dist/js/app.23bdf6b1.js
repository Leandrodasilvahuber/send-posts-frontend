(function(){"use strict";var t={9583:function(t){t.exports={SERVER_URI:"http://localhost:3333/",LOCAL_URI:"https://localhost:8000/"}},7170:function(t,e,s){var r=s(144),a=s(998),o=s(6232),l=s(5550),n=s(8762),i=s(1267),u=s(4324),c=s(3059),p=s(6975),d=s(1713),m=s(7953),f=function(){var t=this,e=t._self._c;return e(a.Z,{attrs:{id:"app"}},[t.showTemplate?e("div",[e(p.Z,{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(d.Z,{staticClass:"mt-1"},[e(i.Z,{staticClass:"fill-height",attrs:{"d-flex":"","child-flex":""}},[e(n.Z,{staticClass:"d-flex justify-start ml-2",attrs:{to:"/about"}},[e(u.Z,{attrs:{left:""}},[t._v("mdi-account-tie")]),t._v(" About ")],1)],1)],1),e(d.Z,{staticClass:"mt-4"},[e(i.Z,{staticClass:"fill-height",attrs:{"d-flex":"","child-flex":""}},[e(n.Z,{staticClass:"d-flex justify-start ml-2",attrs:{to:"/"}},[e(u.Z,{attrs:{left:""}},[t._v("mdi-text-search")]),t._v(" Posts ")],1)],1)],1),e(d.Z,{staticClass:"mt-4"},[e(i.Z,{staticClass:"fill-height",attrs:{"d-flex":"","child-flex":""}},[e(n.Z,{staticClass:"d-flex justify-start ml-2",attrs:{to:"/create-post"}},[e(u.Z,{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Post ")],1)],1)],1),e(d.Z,{staticClass:"mt-4"},[e(i.Z,{staticClass:"fill-height",attrs:{"d-flex":"","child-flex":""}},[e(n.Z,{staticClass:"d-flex justify-start ml-2",on:{click:t.logout}},[e(u.Z,{attrs:{left:""}},[t._v("mdi-exit-to-app")]),t._v(" Log Out ")],1)],1)],1)],1),t.showTemplate?e(o.Z,{attrs:{app:""}},[e(l.Z,{on:{click:function(e){t.drawer=!t.drawer}}}),e(m.qW,[t._v("Welcome to my humble app!")])],1):t._e()],1):t._e(),e(c.Z,[e("router-view")],1),e("div",{staticClass:"fixed"},[e("error-alert",{attrs:{error:t.error}})],1)],1)},h=[],v=s(1653),Z=function(){var t=this,e=t._self._c;return e("div",[t.error?e(v.Z,{attrs:{dense:"",outlined:"",type:"error"}},[t._v(" "+t._s(t.error))]):t._e()],1)},g=[],w={props:{error:null}},_=w,b=s(1001),x=(0,b.Z)(_,Z,g,!1,null,null,null),y=x.exports,k=s(6294),C=s.n(k);const P=()=>C()("error")||null,$=t=>{C()("error",t)},j=()=>C()("token")||null,q=t=>{C()("token",t)};var O={data:()=>({drawer:null,error:null}),components:{ErrorAlert:y},mounted(){this.$root.$on("reload-cookies",this.reloadCookies)},methods:{logout(){this.$store.commit("logout"),this.$router.push("/login-user")},reloadCookies(){setTimeout((()=>{this.error=P()}),4e3)}},computed:{showTemplate(){return this.reloadCookies(),"/login-user"!==this.$route.path&&"/create-user"!==this.$route.path}}},R=O,A=(0,b.Z)(R,f,h,!1,null,"527c63be",null),I=A.exports,T=s(8345),L=s(9256),S=s(720),U=s(3201),E=function(){var t=this,e=t._self._c;return e(S.Z,[e(L.Z,{attrs:{fluid:"","fill-height":""}},[e(U.Z,{attrs:{"align-center":"","justify-center":""}},[e(i.Z,{attrs:{xs12:"",sm8:"",md4:""}},[e("create-user",{staticClass:"mt-15"})],1)],1)],1)],1)},V=[],M=s(5125),z=s(8088),F=function(){var t=this,e=t._self._c;return e("div",[e(M.Z,[e(z.Z,{attrs:{name:"name",label:"Name",type:"text",rules:t.rules.name,required:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),e(z.Z,{attrs:{name:"email",label:"Email",type:"text",rules:t.rules.email,required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),e(z.Z,{attrs:{id:"password",name:"password",label:"Password",type:"password",rules:t.rules.password,required:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e(n.Z,{attrs:{disabled:!t.formIsValid,color:"primary"},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)},W=[],D={data:()=>({user:{name:null,password:null,email:null},rules:{name:[t=>!!t||"Required."],password:[t=>!!t||"Required.",t=>t&&t.length>=8||"Min 8 characters"],email:[t=>!!t||"Required.",t=>{const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}]}}),computed:{formIsValid(){return this.user.name&&this.user.password&&this.user.email}},methods:{save(){const{name:t,email:e,password:s}=this.user;this.$store.commit("createUser",{name:t,email:e,password:s}),this.$router.push("/")}}},B=D,G=(0,b.Z)(B,F,W,!1,null,null,null),N=G.exports,Q={components:{CreateUser:N}},Y=Q,H=(0,b.Z)(Y,E,V,!1,null,null,null),J=H.exports,K=function(){var t=this,e=t._self._c;return e(S.Z,[e(L.Z,{attrs:{fluid:"","fill-height":""}},[e(U.Z,{attrs:{"align-center":"","justify-center":""}},[e(i.Z,{attrs:{xs12:"",sm8:"",md4:""}},[e("login-user",{staticClass:"mt-15"})],1)],1)],1)],1)},X=[],tt=s(9582),et=s(4886),st=s(3687),rt=s(6313),at=function(){var t=this,e=t._self._c;return e(tt.Z,{staticClass:"elevation-12"},[e(rt.Z,{attrs:{dark:"",color:"primary"}},[e(m.qW,[t._v("Login - Aluminium API")])],1),e(et.ZB,[e(M.Z,[e(z.Z,{attrs:{name:"email",label:"Email",type:"text",rules:t.rules.email,required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),e(z.Z,{attrs:{id:"password",name:"password",label:"Password",type:"password",rules:t.rules.password,required:""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1),e(et.h7,[e(n.Z,{attrs:{disabled:!t.formIsValid,color:"primary"},on:{click:function(e){return t.logar()}}},[t._v("Login")]),e(st.Z),e(n.Z,{on:{click:function(e){return t.createUser()}}},[t._v("Sigin in")])],1)],1)},ot=[],lt={data:()=>({user:{password:null,email:null},rules:{password:[t=>!!t||"Required.",t=>t&&t.length>=8||"Min 8 characters"],email:[t=>!!t||"Required.",t=>{const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."}]}}),computed:{formIsValid(){return this.user.password&&this.user.email}},methods:{async logar(){const{email:t,password:e}=this.user;this.$store.commit("login",{email:t,password:e}),setTimeout((()=>{this.$root.$emit("reload-cookies"),null===P()?this.$router.push("/"):this.$router.push("/login-user")}),4e3)},createUser(){this.$router.push("/create-user")}}},nt=lt,it=(0,b.Z)(nt,at,ot,!1,null,null,null),ut=it.exports,ct={components:{LoginUser:ut}},pt=ct,dt=(0,b.Z)(pt,K,X,!1,null,null,null),mt=dt.exports,ft=s(266),ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e(d.Z,{staticClass:"pa-10"},[e(tt.Z,{staticClass:"pa-5"},[e("p",[t._v("This is just an application example.")]),e("p",[t._v(" We have the API in Node and the frontend in Vue. You can create and delete posts and see how it's done in the repository. ")]),e("p",[e(n.Z,{staticClass:"mr-5",attrs:{href:"https://github.com/Leandrodasilvahuber/vue-api",target:"_blank"}},[t._v(" Github Vue ")]),e(n.Z,{attrs:{href:"https://github.com/Leandrodasilvahuber/js-api",target:"_blank"}},[t._v(" Github Api ")])],1)])],1),e(d.Z,[e(ft.Z,{staticClass:"ml-7"},[e(n.Z,{attrs:{href:t.urlPDF,target:"_blank"}},[t._v(" Download Curriculum ")])],1)],1)],1)},vt=[],Zt=s(9583),gt={computed:{urlPDF(){return`${Zt.LOCAL_URI}curriculo.pdf`}}},wt=gt,_t=(0,b.Z)(wt,ht,vt,!1,null,null,null),bt=_t.exports,xt=function(){var t=this,e=t._self._c;return e("div",[t.login?e("list-posts"):t._e()],1)},yt=[],kt=function(){var t=this,e=t._self._c;return e("div",t._l(t.posts,(function(s){return e(d.Z,{key:s.id},[e(ft.Z,{attrs:{cols:"12"}},[e(tt.Z,[e(et.EB,{staticClass:"text-h5",staticStyle:{"text-transform":"uppercase"}},[e("b",[t._v(t._s(s.title))])]),e(et.Qq,[e("h2",[t._v(t._s(s.message))])]),e(et.h7,[e(i.Z,{staticClass:"text-right"},[e(n.Z,{attrs:{icon:"",color:"black"},on:{click:function(e){return t.deletePost(s.id)}}},[e(u.Z,[t._v("mdi-delete")])],1)],1)],1)],1)],1)],1)})),1)},Ct=[],Pt={mounted(){this.$store.commit("listPosts")},computed:{posts(){return this.$store.getters.posts}},methods:{deletePost(t){this.$store.commit("deletePost",t)}}},$t=Pt,jt=(0,b.Z)($t,kt,Ct,!1,null,null,null),qt=jt.exports,Ot={components:{ListPosts:qt},computed:{login(){return!!j()}}},Rt=Ot,At=(0,b.Z)(Rt,xt,yt,!1,null,null,null),It=At.exports,Tt=function(){var t=this,e=t._self._c;return e("div",[e("create-post")],1)},Lt=[],St=function(){var t=this,e=t._self._c;return e("div",[e(M.Z,{staticClass:"pa-15"},[e(z.Z,{attrs:{name:"title",label:"Title",type:"text",rules:t.rules.title,required:""},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),e(z.Z,{attrs:{name:"message",label:"Message",type:"text",rules:t.rules.message,required:""},model:{value:t.post.message,callback:function(e){t.$set(t.post,"message",e)},expression:"post.message"}}),e(n.Z,{attrs:{disabled:!t.formIsValid,color:"primary"},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)},Ut=[],Et={data:()=>({post:{title:null,message:null},rules:{title:[t=>!!t||"Required."],message:[t=>!!t||"Required."]}}),computed:{formIsValid(){return this.post.title&&this.post.message}},methods:{save(){const{title:t,message:e}=this.post;this.$store.commit("createPost",{title:t,message:e}),setTimeout((()=>{this.$store.commit("listPosts"),this.$router.push("/")}),4e3)}}},Vt=Et,Mt=(0,b.Z)(Vt,St,Ut,!1,null,null,null),zt=Mt.exports,Ft={components:{CreatePost:zt}},Wt=Ft,Dt=(0,b.Z)(Wt,Tt,Lt,!1,null,null,null),Bt=Dt.exports;r.ZP.use(T.Z);const Gt=[{path:"/",component:It},{path:"/login-user",component:mt},{path:"/create-post",component:Bt},{path:"/create-user",component:J},{path:"/about",component:bt}],Nt=new T.Z({mode:"history",base:"/",routes:Gt});Nt.beforeEach(((t,e,s)=>{const r=j();return r&&"/"===e.path&&"/login-user"===t.path?s("/"):(r||"/"!==t.path)&&(r||"/about"!==t.path)&&(r||"/create-post"!==t.path)?s():s("/login-user")}));var Qt=Nt,Yt=s(629),Ht=t=>{function e(t){"Failed to authenticate token."==t&&(q(null),document.location.reload(!0))}return t.interceptors.response.use((function(t){return $(null),t}),(function(t){const s=t.response.data.message;return e(s),$(s),Promise.reject(t)})),t},Jt=t=>{const e=s(9669)["default"],r=j(),a=e.create({baseURL:t,timeout:1e3,headers:{"x-access-token":r}});return a},Kt=()=>{const t=Jt(Zt.SERVER_URI);return Ht(t)},Xt=async t=>{const e=await Kt().post("/login",{email:t.email,password:t.password});return e},te=async()=>await Kt().get("/posts"),ee=async t=>{const e=await Kt().post("/users",{name:t.name,email:t.email,password:t.password});return e},se=async t=>{const e=await Kt().post("/post",{title:t.title,message:t.message});return e},re=async t=>{const e=await Kt().delete("/post",{data:{id:t}});return e};r.ZP.use(Yt.ZP);var ae=new Yt.ZP.Store({state:{posts:[]},getters:{posts(t){return t.posts}},mutations:{async logout(){q(null)},async login(t,{email:e,password:s}){const r=await Xt({email:e,password:s});q(r.data.token)},async listPosts(t){const e=await te();t.posts=e.data},async createPost(t,{title:e,message:s}){await se({title:e,message:s})},async createUser(t,{name:e,email:s,password:r}){await ee({name:e,email:s,password:r})},async deletePost(t,e){await re(e);const s=await te();t.posts=s.data}}}),oe=s(8864);r.ZP.use(oe.Z);var le=new oe.Z({});r.ZP.config.productionTip=!1,new r.ZP({router:Qt,store:ae,vuetify:le,template:"<App/>",components:{App:I},render:t=>t(I)}).$mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,o){if(!r){var l=1/0;for(c=0;c<t.length;c++){r=t[c][0],a=t[c][1],o=t[c][2];for(var n=!0,i=0;i<r.length;i++)(!1&o||l>=o)&&Object.keys(s.O).every((function(t){return s.O[t](r[i])}))?r.splice(i--,1):(n=!1,o<l&&(l=o));if(n){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,l=r[0],n=r[1],i=r[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(i)var c=i(s)}for(e&&e(r);u<l.length;u++)o=l[u],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(c)},r=self["webpackChunkprofile_vue"]=self["webpackChunkprofile_vue"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(7170)}));r=s.O(r)})();
//# sourceMappingURL=app.23bdf6b1.js.map